#include "vector.h"
#include <stdio.h>
#include <stdlib.h>

void print(Vector *a) {
    Iterator it, en = vector_end(a);
    for (it = vector_begin(a); !iterator_equals(&it, &en); iterator_increment(&it))
        printf("%d ", *(int *)iterator_get(&it));
    printf("\nsize=%ld %s\n", vector_size(a), vector_is_empty(a) ? "empty" : "not empty");
}

bool func(const void *a, const void *b) { return *(int *)a < *(int *)b; }


void assert(int c) {
    if (c) {
        printf("%d\n",c);
        exit(-1);
    }
}



int main() {
    int data[] = {0, 123123, 2, 32, 4213, 5, 6,17, 318, 59, 610,10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 123123, 2, 32, 4213, 5, 6,17, 318, 59, 610,10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,};
    Vector va, vb;
    Vector *a = &va, *b = &vb;
    Iterator it;

    
    va.data=vb.data=NULL;
    
    assert(vector_init(a, 5, 4));
    
    print(a);

    assert(vector_push_back(a, &data[1]));
    print(a);
    assert(vector_push_back(a, &data[2]));
    print(a);
    assert(vector_push_back(a, &data[4]));
    print(a);
    assert(vector_push_front(a, &data[0]));

    print(a);

    assert(vector_insert(a, 3, &data[3]));
     print(a);
    assert(vector_push_back(a, &data[9]));
     print(a);
    assert(vector_assign(a, 5, &data[5]));
 print(a);
    it = vector_iterator(a, 3);

    printf("%d\n", *(int *)iterator_get(&it));

    print(a);

    assert(vector_copy(b, a));
    print(b);


    assert(vector_pop_back(a));

    assert(vector_pop_front(a));
    assert(vector_erase(a, 3));

    print(a);

    assert(vector_clear(a));

    print(a);

    assert(vector_destroy(a));

    printf("%d\n", *(int *)vector_get(b, 2));
    printf("%d\n", *(int *)vector_front(b));
    printf("%d\n", *(int *)vector_back(b));

    assert(vector_resize(b, 2));
    print(b);

    
    for(int i=0;i<=1210;++i)
        assert(vector_push_back(b, &data[i]));
    print(b);


    vector_sort(b, func);

    print(b);

    assert(vector_destroy(b));
    return 0;
}